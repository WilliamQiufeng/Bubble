[gd_scene load_steps=16 format=4 uid="uid://tnam1v3fk1e3"]

[ext_resource type="Script" path="res://SceneScript.gd" id="1_cu1t1"]
[ext_resource type="TileSet" uid="uid://b5diheugfnvke" path="res://sprites/test.tres" id="3_cype7"]
[ext_resource type="PackedScene" uid="uid://cr0wfkkhkvskc" path="res://bubble.tscn" id="4_4of4y"]
[ext_resource type="PackedScene" uid="uid://wqr4y4ey6iqx" path="res://player.tscn" id="4_ab4fr"]
[ext_resource type="PackedScene" uid="uid://dmnhnhgq6ls81" path="res://goblin.tscn" id="5_hmcur"]
[ext_resource type="Script" path="res://Scripts/Bubbles/FastBubbleEffectController.gd" id="6_shgmp"]
[ext_resource type="PackedScene" uid="uid://cujntyyisr5rt" path="res://wizard.tscn" id="6_tqrox"]
[ext_resource type="Script" path="res://Scripts/Bubbles/TheWorldBubbleEffectController.gd" id="6_wh7vc"]
[ext_resource type="SpriteFrames" uid="uid://8sxvvsebyeco" path="res://sprites/health-bar-frames.tres" id="7_lgjr3"]
[ext_resource type="Script" path="res://Scripts/Level/LevelController.gd" id="8_1qf6o"]
[ext_resource type="Script" path="res://Scripts/AnimationProgressBar.gd" id="8_dsa6g"]
[ext_resource type="SpriteFrames" uid="uid://crhwmeo5xw80t" path="res://sprites/mana-bar-frames.tres" id="9_c1y8d"]
[ext_resource type="Script" path="res://Scripts/Level/Spawner.gd" id="9_winy3"]
[ext_resource type="PackedScene" uid="uid://bxtuafboulrkn" path="res://spawn_marker.tscn" id="10_pux3m"]
[ext_resource type="AudioStream" uid="uid://q7whlo07414u" path="res://Misc/Background music/bubble game background music.wav" id="14_tj5ur"]

[node name="Root" type="Node2D"]
script = ExtResource("1_cu1t1")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAEAAwAEAAQAAAACAAIAAwAEAAQAAAACAAMAAwAEAAMAAAACAAQAAwACAAIAAAACAAUAAwACAAIAAAADAAEAAwADAAIAAAADAAIAAwADAAIAAAADAAMAAwADAAIAAAADAAQAAwADAAIAAAADAAUAAwAFAAMAAAAEAAEAAwACAAIAAAAEAAIAAwACAAUAAAAEAAMAAwAEAAQAAAAEAAQAAwACAAIAAAAEAAUAAwAEAAQAAAAFAAEAAwADAAIAAAAFAAIAAwADAAUAAAAFAAMAAwADAAIAAAAFAAQAAwADAAIAAAAFAAUAAwADAAIAAAAGAAEAAwAEAAMAAAAGAAIAAwACAAUAAAAGAAMAAwACAAIAAAAGAAQAAwAEAAMAAAAGAAUAAwAEAAMAAAAHAAEAAwAEAAIAAAAHAAIAAwADAAUAAAAHAAMAAwACAAIAAAAHAAQAAwAEAAMAAAAHAAUAAwAEAAMAAAAIAAEAAwAEAAIAAAAIAAIAAwACAAUAAAAIAAMAAwAEAAIAAAAIAAQAAwAEAAMAAAAIAAUAAwACAAIAAAAJAAEAAwAEAAMAAAAJAAIAAwACAAIAAAAJAAMAAwADAAIAAAAJAAQAAwACAAIAAAAJAAUAAwAFAAQAAAAKAAEAAwAEAAMAAAAKAAIAAwAEAAMAAAAKAAMAAwACAAIAAAAKAAQAAwACAAIAAAAKAAUAAwACAAIAAAALAAEAAwACAAIAAAALAAIAAwACAAIAAAALAAMAAwACAAIAAAALAAQAAwACAAIAAAALAAUAAwACAAIAAAAMAAEAAwACAAIAAAAMAAIAAwACAAIAAAAMAAMAAwACAAIAAAAMAAQAAwAEAAMAAAAMAAUAAwAEAAMAAAANAAEAAwAEAAIAAAANAAIAAwAEAAMAAAANAAMAAwACAAIAAAANAAQAAwACAAIAAAANAAUAAwAEAAMAAAAOAAEAAwACAAIAAAAOAAIAAwACAAIAAAAOAAMAAwAEAAMAAAAOAAQAAwACAAIAAAAOAAUAAwACAAIAAAABAAAAAwABAAEAAAACAAAAAwADAAUAAAADAAAAAwAEAAUAAAAEAAAAAwADAAUAAAAFAAAAAwAEAAUAAAAGAAAAAwAEAAUAAAAHAAAAAwAEAAUAAAAIAAAAAwACAAUAAAAJAAAAAwADAAUAAAAKAAAAAwADAAUAAAALAAAAAwADAAUAAAAMAAAAAwACAAUAAAANAAAAAwADAAUAAAAOAAAAAwAEAAUAAAAPAAAAAwADAAEAAAAPAAEAAwACAAIAAAAPAAIAAwACAAIAAAAPAAMAAwAEAAMAAAAPAAQAAwAEAAIAAAAPAAUAAwADAAUAAAABAAUAAwABAAIAAAABAAQAAwAFAAIAAAABAAMAAwAFAAQAAAABAAIAAwAFAAMAAAABAAEAAwABAAMAAAACAAYAAwACAAIAAAAOAA8AAwAEAAIAAAAOAA4AAwACAAIAAAAOAA0AAwABAAUAAAAOAAwAAwAFAAMAAAAOAAsAAwAFAAQAAAAOAAoAAwAFAAIAAAAOAAkAAwAFAAEAAAAOAAgAAwACAAIAAAAOAAcAAwACAAIAAAAOAAYAAwAEAAIAAAANAA8AAwAEAAIAAAANAA4AAwACAAIAAAANAA0AAwAEAAIAAAANAAwAAwAEAAMAAAANAAsAAwACAAIAAAANAAoAAwACAAIAAAANAAkAAwAEAAUAAAANAAgAAwACAAIAAAANAAcAAwAEAAMAAAANAAYAAwACAAIAAAAMAA8AAwACAAIAAAAMAA4AAwAEAAMAAAAMAA0AAwAEAAIAAAAMAAwAAwACAAIAAAAMAAsAAwAEAAMAAAAMAAoAAwACAAIAAAAMAAkAAwACAAUAAAAMAAgAAwAEAAMAAAAMAAcAAwACAAIAAAAMAAYAAwAEAAMAAAALAA8AAwACAAIAAAALAA4AAwAEAAMAAAALAA0AAwACAAIAAAALAAwAAwACAAIAAAALAAsAAwAEAAMAAAALAAoAAwACAAIAAAALAAkAAwAEAAUAAAALAAgAAwAEAAMAAAALAAcAAwAEAAMAAAALAAYAAwACAAIAAAAKAA8AAwACAAIAAAAKAA4AAwAEAAIAAAAKAA0AAwACAAIAAAAKAAwAAwACAAIAAAAKAAsAAwACAAIAAAAKAAoAAwACAAIAAAAKAAkAAwADAAUAAAAKAAgAAwACAAIAAAAKAAcAAwAEAAMAAAAKAAYAAwACAAIAAAAJAA8AAwAEAAMAAAAJAA4AAwACAAIAAAAJAA0AAwACAAIAAAAJAAwAAwACAAIAAAAJAAsAAwACAAIAAAAJAAoAAwACAAIAAAAJAAkAAwACAAUAAAAJAAgAAwAEAAMAAAAJAAcAAwAEAAMAAAAJAAYAAwAFAAMAAAAIAA8AAwACAAIAAAAIAA0AAwADAAQAAAAIAAwAAwACAAQAAAAIAAsAAwACAAMAAAAIAAoAAwAEAAMAAAAIAAkAAwACAAIAAAAIAAgAAwAEAAMAAAAIAAcAAwACAAIAAAAIAAYAAwAEAAIAAAAHAA8AAwAEAAMAAAAHAA0AAwADAAQAAAAHAAwAAwACAAQAAAAHAAoAAwAEAAIAAAAHAAkAAwAEAAMAAAAHAAgAAwACAAIAAAAHAAcAAwAEAAMAAAAHAAYAAwACAAIAAAAGAA8AAwACAAIAAAAGAAoAAwACAAIAAAAGAAkAAwACAAIAAAAGAAgAAwAEAAMAAAAGAAcAAwAEAAMAAAAGAAYAAwACAAIAAAAFAA8AAwACAAIAAAAFAAoAAwADAAIAAAAFAAkAAwADAAIAAAAFAAgAAwADAAIAAAAFAAcAAwADAAIAAAAFAAYAAwADAAIAAAAEAA8AAwACAAIAAAAEAA0AAwADAAQAAAAEAAwAAwACAAQAAAAEAAsAAwACAAMAAAAEAAoAAwAEAAMAAAAEAAkAAwACAAIAAAAEAAgAAwAEAAQAAAAEAAcAAwACAAIAAAAEAAYAAwAEAAQAAAADAA8AAwACAAIAAAADAA0AAwADAAQAAAADAAwAAwACAAQAAAADAAsAAwACAAMAAAADAAoAAwADAAIAAAADAAkAAwAFAAIAAAADAAgAAwAFAAIAAAADAAcAAwAFAAIAAAADAAYAAwAFAAQAAAACAA8AAwACAAIAAAACAA0AAwADAAQAAAACAAwAAwACAAQAAAACAAsAAwACAAMAAAACAAoAAwAEAAMAAAACAAkAAwACAAIAAAACAAgAAwAEAAMAAAACAAcAAwAEAAMAAAAOABAAAwACAAIAAAANABAAAwAEAAIAAAAMABAAAwACAAIAAAALABAAAwAEAAIAAAAKABAAAwACAAIAAAAJABAAAwACAAIAAAAIABAAAwACAAIAAAAHABAAAwACAAIAAAAGABAAAwACAAIAAAAFABAAAwACAAIAAAAEABAAAwACAAIAAAADABAAAwACAAIAAAACABAAAwACAAIAAAAVABAAAwAEAAMAAAAVAA8AAwACAAIAAAAVAA4AAwAEAAMAAAAVAA0AAwACAAIAAAAVAAwAAwACAAIAAAAVAAsAAwACAAIAAAAVAAoAAwACAAIAAAAVAAkAAwAEAAIAAAAVAAgAAwACAAIAAAAVAAcAAwADAAIAAAAVAAYAAwADAAIAAAAVAAUAAwAEAAIAAAAVAAQAAwAEAAIAAAAVAAMAAwADAAIAAAAVAAIAAwAEAAIAAAAVAAEAAwACAAIAAAAUABAAAwAEAAMAAAAUAA8AAwAEAAIAAAAUAA4AAwACAAIAAAAUAA0AAwACAAIAAAAUAAwAAwACAAIAAAAUAAsAAwAEAAIAAAAUAAoAAwACAAIAAAAUAAkAAwACAAIAAAAUAAgAAwAEAAMAAAAUAAcAAwACAAIAAAAUAAYAAwACAAIAAAAUAAUAAwADAAIAAAAUAAQAAwACAAIAAAAUAAMAAwAEAAIAAAAUAAIAAwACAAIAAAAUAAEAAwADAAIAAAATABAAAwAEAAMAAAATAA8AAwAEAAMAAAATAA4AAwAEAAMAAAATAA0AAwAEAAMAAAATAAwAAwACAAIAAAATAAsAAwAEAAMAAAATAAoAAwACAAIAAAATAAkAAwAFAAQAAAATAAgAAwAFAAIAAAATAAcAAwAFAAIAAAATAAYAAwAFAAIAAAATAAUAAwAFAAEAAAATAAQAAwAEAAMAAAATAAMAAwACAAIAAAATAAIAAwACAAIAAAATAAEAAwADAAIAAAASABAAAwAEAAMAAAASAA8AAwACAAIAAAASAA4AAwAEAAIAAAASAA0AAwACAAUAAAASAAwAAwAEAAMAAAASAAsAAwAEAAMAAAASAAoAAwACAAIAAAASAAkAAwAEAAMAAAASAAgAAwAEAAMAAAASAAcAAwACAAIAAAASAAYAAwACAAIAAAASAAUAAwAEAAUAAAASAAQAAwAEAAMAAAASAAMAAwACAAIAAAASAAIAAwACAAIAAAASAAEAAwAEAAIAAAARABAAAwAEAAMAAAARAA8AAwACAAIAAAARAA4AAwAEAAIAAAARAA0AAwACAAUAAAARAAwAAwACAAIAAAARAAsAAwAEAAMAAAARAAoAAwACAAIAAAARAAkAAwAEAAIAAAARAAgAAwAEAAMAAAARAAcAAwAEAAMAAAARAAYAAwACAAIAAAARAAUAAwACAAUAAAARAAQAAwAEAAMAAAARAAMAAwAEAAMAAAARAAIAAwAEAAMAAAARAAEAAwACAAIAAAAQABAAAwAEAAMAAAAQAA8AAwACAAIAAAAQAA4AAwAEAAIAAAAQAA0AAwADAAUAAAAQAAwAAwAEAAMAAAAQAAsAAwAEAAMAAAAQAAoAAwAEAAMAAAAQAAkAAwACAAIAAAAQAAgAAwACAAIAAAAQAAcAAwAEAAMAAAAQAAYAAwAEAAMAAAAQAAUAAwAEAAUAAAAQAAQAAwACAAIAAAAQAAMAAwACAAIAAAAQAAIAAwAEAAMAAAAQAAEAAwAEAAIAAAAPABAAAwACAAIAAAAPAA8AAwAEAAMAAAAPAA4AAwACAAIAAAAPAA0AAwAEAAUAAAAPAAwAAwAEAAMAAAAPAAsAAwAEAAMAAAAPAAoAAwAEAAMAAAAPAAkAAwACAAIAAAAPAAgAAwACAAIAAAAPAAcAAwACAAIAAAAPAAYAAwACAAIAAAAVAAAAAwAFAAUAAAAUAAAAAwADAAUAAAATAAAAAwACAAUAAAASAAAAAwADAAUAAAARAAAAAwAEAAUAAAAQAAAAAwAEAAUAAAAWABAAAwAFAAMAAAAWAA8AAwABAAIAAAAWAA4AAwAFAAQAAAAWAA0AAwABAAIAAAAWAAwAAwABAAQAAAAWAAsAAwAFAAQAAAAWAAoAAwABAAIAAAAWAAkAAwABAAIAAAAWAAgAAwAFAAIAAAAWAAcAAwABAAMAAAAWAAYAAwAFAAIAAAAWAAUAAwABAAMAAAAWAAQAAwAFAAMAAAAWAAMAAwAFAAIAAAAWAAIAAwAFAAQAAAAWAAEAAwABAAIAAAAWAAAAAwAFAAEAAAABABEAAwABAAUAAAABABAAAwAFAAIAAAABAA8AAwAFAAQAAAABAA0AAwABAAMAAAABAAwAAwAFAAQAAAABAAsAAwABAAIAAAABAAoAAwAFAAQAAAABAAkAAwAFAAMAAAABAAgAAwAFAAQAAAABAAcAAwABAAIAAAABAAYAAwAFAAQAAAAWABEAAwAFAAUAAAAVABEAAwADAAUAAAAUABEAAwAEAAUAAAATABEAAwAEAAUAAAASABEAAwADAAUAAAARABEAAwAEAAUAAAAQABEAAwADAAUAAAAPABEAAwAEAAUAAAAOABEAAwACAAUAAAANABEAAwACAAUAAAAMABEAAwACAAUAAAALABEAAwACAAUAAAAKABEAAwADAAUAAAAJABEAAwACAAUAAAAIABEAAwADAAUAAAAHABEAAwAEAAUAAAAGABEAAwAEAAUAAAAFABEAAwAEAAUAAAAEABEAAwAEAAUAAAADABEAAwAEAAUAAAACABEAAwACAAUAAAAFAAsAAwACAAMAAAAFAAwAAwACAAQAAAAFAA0AAwADAAQAAAAGAAsAAwACAAMAAAAGAAwAAwACAAQAAAAGAA0AAwADAAQAAAAHAAsAAwACAAMAAAABAA4AAwABAAMAAAAIAA4AAwAEAAMAAAAHAA4AAwAEAAIAAAAGAA4AAwAEAAUAAAAFAA4AAwAEAAUAAAAEAA4AAwACAAUAAAADAA4AAwAEAAIAAAACAA4AAwAEAAQAAAA=")
tile_set = ExtResource("3_cype7")

[node name="Player" parent="TileMapLayer" node_paths=PackedStringArray("bullet_container") instance=ExtResource("4_ab4fr")]
z_index = 1
position = Vector2(196, 190)
bullet_container = NodePath("../Bubbles")

[node name="Camera2D" parent="TileMapLayer/Player" index="3"]
zoom = Vector2(2, 2)

[node name="BubbleGun" parent="TileMapLayer/Player" index="8" node_paths=PackedStringArray("bullet_container")]
bullet_container = NodePath("../../Bubbles")

[node name="Enemies" type="Node2D" parent="TileMapLayer"]

[node name="Enemy" parent="TileMapLayer/Enemies" instance=ExtResource("5_hmcur")]
position = Vector2(272, 156)

[node name="Enemy2" parent="TileMapLayer/Enemies" instance=ExtResource("6_tqrox")]
position = Vector2(128, 132)

[node name="Bubbles" type="Node2D" parent="TileMapLayer"]

[node name="FastBubble" parent="TileMapLayer/Bubbles" instance=ExtResource("4_4of4y")]
position = Vector2(164, 60)

[node name="FastBubbleEffectController" type="Node" parent="TileMapLayer/Bubbles/FastBubble"]
script = ExtResource("6_shgmp")

[node name="Bubble" parent="TileMapLayer/Bubbles" instance=ExtResource("4_4of4y")]
position = Vector2(100, 61)

[node name="TheWorldBubbleEffectController" type="Node" parent="TileMapLayer/Bubbles/Bubble"]
script = ExtResource("6_wh7vc")

[node name="Spawner" type="Node2D" parent="TileMapLayer"]
position = Vector2(208, 97)
script = ExtResource("9_winy3")

[node name="Marker2D" parent="TileMapLayer/Spawner" instance=ExtResource("10_pux3m")]
spawnable_enemies = 3
probability = 0.01
entities_to_spawn = 5

[node name="Marker2D2" parent="TileMapLayer/Spawner" instance=ExtResource("10_pux3m")]
position = Vector2(387, 21)
spawnable_enemies = 2
probability = 0.01
entities_to_spawn = 5
level = 2

[node name="Marker2D3" parent="TileMapLayer/Spawner" instance=ExtResource("10_pux3m")]
position = Vector2(379, 154)
spawnable_enemies = 1
probability = 0.01
entities_to_spawn = 5
level = 3

[node name="Levels" type="Node2D" parent="TileMapLayer"]
script = ExtResource("8_1qf6o")

[node name="Level1" type="Marker2D" parent="TileMapLayer/Levels"]
position = Vector2(193, 186)

[node name="Level2" type="Marker2D" parent="TileMapLayer/Levels"]
position = Vector2(641, 139)

[node name="Level3" type="Marker2D" parent="TileMapLayer/Levels"]
position = Vector2(484, 250)

[node name="Level4" type="Marker2D" parent="TileMapLayer/Levels"]
position = Vector2(817, 320)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
visible = false
offset_left = -3.0
offset_top = 91.0
offset_right = 55.0
offset_bottom = 114.0
text = "GGAGD"

[node name="HP" type="AnimatedSprite2D" parent="CanvasLayer"]
position = Vector2(29, 17)
sprite_frames = ExtResource("7_lgjr3")
frame = 12
script = ExtResource("8_dsa6g")

[node name="MP" type="AnimatedSprite2D" parent="CanvasLayer"]
position = Vector2(28, 35)
sprite_frames = ExtResource("9_c1y8d")
frame = 12
script = ExtResource("8_dsa6g")

[node name="PopupMenu" type="PopupMenu" parent="CanvasLayer"]
title = "lmao"
initial_position = 2
size = Vector2i(300, 200)

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/PopupMenu"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label2" type="Label" parent="CanvasLayer/PopupMenu/PanelContainer"]
layout_mode = 2
text = "You ded lol"
horizontal_alignment = 1
vertical_alignment = 1

[node name="CanvasLayer2" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="Label" type="Label" parent="CanvasLayer2"]
visible = false
offset_left = 98.0
offset_top = 16.0
offset_right = 155.0
offset_bottom = 39.0
text = "adgadg"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_tj5ur")
volume_db = -10.308
autoplay = true

[connection signal="hp_change" from="TileMapLayer/Player/PlayerController" to="CanvasLayer/HP" method="set_progress"]
[connection signal="mana_change" from="TileMapLayer/Player/PlayerController" to="CanvasLayer/MP" method="set_progress"]
[connection signal="on_level_advance" from="TileMapLayer/Levels" to="TileMapLayer/Spawner" method="_on_levels_on_level_advance"]

[editable path="TileMapLayer/Player"]
